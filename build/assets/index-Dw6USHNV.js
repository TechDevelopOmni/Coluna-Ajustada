import{T as y,j as t,v as r,r as m}from"./index-C607L3NO.js";import{d as P,e as W,o as E,f as G,s as M,h as D,y as H,l as O,k as I,p as U,v as V,x as K}from"./useMergeRef-DOQ7ycPl.js";import{A as L}from"./index-C0Bidem1.js";import{m as X}from"./CloseButton-BXcBQvwe.js";function F(s){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},child:[]}]})(s)}function A(s){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"},child:[]}]})(s)}function $(s){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"},child:[]}]})(s)}function S(s){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},child:[]}]})(s)}const q=({placement:s,color:n})=>{const e=`absolute ${n}`,p=()=>{switch(s){case"top":return t.jsx(F,{className:r(e,"-bottom-2 w-full left-0")});case"top-start":return t.jsx(F,{className:r(e,"-bottom-2 left-0 ml-3")});case"top-end":return t.jsx(F,{className:r(e,"-bottom-2 right-0 mr-3")});case"right":return t.jsx(A,{className:r(e,"-left-2 top-1/2 transform -translate-y-1/2")});case"right-start":return t.jsx(A,{className:r(e,"-left-2 top-2")});case"right-end":return t.jsx(A,{className:r(e,"-left-2 bottom-2")});case"bottom":return t.jsx(S,{className:r(e,"-top-2 w-full left-0")});case"bottom-start":return t.jsx(S,{className:r(e,"-top-2 left-0 ml-3")});case"bottom-end":return t.jsx(S,{className:r(e,"-top-2 right-0 mr-3")});case"left":return t.jsx($,{className:r(e,"-right-2 top-1/2 transform -translate-y-1/2")});case"left-start":return t.jsx($,{className:r(e,"-right-2 top-2")});case"left-end":return t.jsx($,{className:r(e,"-right-2 bottom-2")})}};return t.jsx("div",{children:p()})},k=s=>{const{className:n,children:e,isOpen:p=!1,placement:i="top",title:d,wrapperClass:a,disabled:g}=s,[v,x]=m.useState(p),o={background:"bg-gray-800 dark:bg-black",arrow:"text-gray-800 dark:text-black"},j=`tooltip ${o.background}`,{refs:u,floatingStyles:c,context:l}=P({open:p,onOpenChange:B=>{g||x(B)},placement:i,whileElementsMounted:W,middleware:[E(7),G({fallbackAxisSideDirection:"start"}),M()]}),N=D(l,{move:!1}),b=H(l),C=O(l),w=I(l,{role:"tooltip"}),{getReferenceProps:f,getFloatingProps:h}=U([N,b,C,w]);return t.jsxs(t.Fragment,{children:[t.jsx("span",{ref:u.setReference,...f(),className:r("tooltip-wrapper",a),children:e}),t.jsx(V,{children:v&&t.jsx(L,{children:t.jsxs(X.div,{ref:u.setFloating,className:r(j,n),initial:{opacity:0,visibility:"hidden"},animate:v?{opacity:1,visibility:"visible"}:{opacity:0,visibility:"hidden"},transition:{duration:.15,type:"tween"},style:c,...h(),children:[t.jsx("span",{children:d}),t.jsx(q,{placement:l.placement,color:o.arrow})]})})})]})};k.displayName="Tooltip";const z=m.forwardRef((s,n)=>{const{alt:e,className:p,icon:i,shape:d="circle",size:a="md",src:g,srcSet:v,...x}=s;let{children:o}=s;const[j,u]=m.useState(1),c=m.useRef(null),l=m.useRef(null),N=K(n,l),b=()=>{if(!c.current||!l.current)return;const f=c.current.offsetWidth,h=l.current.offsetWidth;f===0||h===0||u(h-8<f?(h-8)/f:1)};m.useEffect(()=>{b()},[j,o]);const C=typeof a=="number"?{width:a,height:a,minWidth:a,lineHeight:`${a}px`,fontSize:i?a/2:12}:{},w=r("avatar",`avatar-${d}`,typeof a=="string"?`avatar-${a}`:"",p);if(g)o=t.jsx("img",{className:`avatar-img avatar-${d}`,src:g,srcSet:v,alt:e,loading:"lazy"});else if(i)o=t.jsx("span",{className:r("avatar-icon",`avatar-icon-${a}`),children:i});else{const f=typeof a=="number"?{lineHeight:`${a}px`}:{},h={transform:`translateX(-50%) scale(${j})`};o=t.jsx("span",{ref:c,className:`avatar-string ${typeof a=="number"?"":`avatar-inner-${a}`}`,style:{...f,...h,...typeof a=="number"?{height:a}:{}},children:o})}return t.jsx("span",{ref:N,className:w,style:{...C,...x.style},...x,children:o})});z.displayName="Avatar";const R=({children:s,chained:n,className:e})=>t.jsx("div",{className:r("avatar-group",n&&"avatar-group-chained",e),children:s}),T=s=>{const{chained:n=!1,children:e,className:p,maxCount:i=4,onOmittedAvatarClick:d,omittedAvatarContent:a,omittedAvatarProps:g,omittedAvatarTooltip:v=!1,omittedAvatarTooltipProps:x}=s,o=m.Children.count(e),j=m.Children.toArray(e).map((u,c)=>m.cloneElement(u,{key:`grouped-avatar-${c}`}));if(i&&i<o){const u=j.slice(0,i),c=o-i,l=t.jsx(z,{className:d?"cursor-pointer":"",onClick:()=>d==null?void 0:d(),...g,children:a||`+${c}`});return u.push(v?t.jsx(k,{title:`${c} More`,...x,children:t.jsx(t.Fragment,{children:l})},"avatar-more-tooltip"):t.jsx(m.Fragment,{children:l},"avatar-more-tooltip")),t.jsx(R,{className:p,chained:n,children:u})}return t.jsx(R,{className:p,chained:n,children:e})};T.displayName="AvatarGroup";const J=z;J.Group=T;export{J as A,k as T,z as a};
