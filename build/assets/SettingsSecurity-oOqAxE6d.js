import{r as t,j as e,d as S}from"./index-C607L3NO.js";import{A as k}from"./index-Dw6USHNV.js";import{B as l}from"./Button-BGNlWC2q.js";import{z as i,u as A,F as B,a as c,C as d,I as m,t as F}from"./index-BsyKxmTm.js";import{C as R}from"./ConfirmDialog-DSnV0zd4.js";import{s as V}from"./sleep-BvINh1mj.js";import{i as E}from"./isLastChild-BgvHfb_g.js";import"./useMergeRef-DOQ7ycPl.js";import"./index-C0Bidem1.js";import"./CloseButton-BXcBQvwe.js";import"./classNames-BXHP0mo8.js";import"./isNil-C1sdKuru.js";import"./Dialog-B2uIaC1M.js";import"./index-Bx_zRB3i.js";const h=[{label:"Google Authenticator",value:"googleAuthenticator",img:"/img/others/google.png",desc:"Using Google Authenticator app generates time-sensitive codes for secure logins."},{label:"Okta Verify",value:"oktaVerify",img:"/img/others/okta.png",desc:"Receive push notifications from Okta Verify app on your phone for quick login approval."},{label:"E Mail verification",value:"emailVerification",img:"/img/others/email.png",desc:"Unique codes sent to email for confirming logins."}],z=i.object({currentPassword:i.string().min(1,{message:"Please enter your current password!"}),newPassword:i.string().min(1,{message:"Please enter your new password!"}),confirmNewPassword:i.string().min(1,{message:"Please confirm your new password!"})}).refine(a=>a.confirmNewPassword===a.newPassword,{message:"Password not match",path:["confirmNewPassword"]}),W=()=>{var f,g,w;const[a,u]=t.useState("googleAuthenticator"),[x,o]=t.useState(!1),[j,p]=t.useState(!1),v=t.useRef(null),{getValues:b,handleSubmit:y,formState:{errors:r},control:n}=A({resolver:F(z)}),P=async()=>{p(!0),await V(1e3),console.log("getValues",b()),o(!1),p(!1)},C=async()=>{o(!0)};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{children:"Password"}),e.jsx("p",{children:"Remember, your password is your digital key to your account. Keep it safe, keep it secure!"})]}),e.jsxs(B,{ref:v,className:"mb-8",onSubmit:y(C),children:[e.jsx(c,{label:"Current password",invalid:!!r.currentPassword,errorMessage:(f=r.currentPassword)==null?void 0:f.message,children:e.jsx(d,{name:"currentPassword",control:n,render:({field:s})=>e.jsx(m,{type:"password",autoComplete:"off",placeholder:"•••••••••",...s})})}),e.jsx(c,{label:"New password",invalid:!!r.newPassword,errorMessage:(g=r.newPassword)==null?void 0:g.message,children:e.jsx(d,{name:"newPassword",control:n,render:({field:s})=>e.jsx(m,{type:"password",autoComplete:"off",placeholder:"•••••••••",...s})})}),e.jsx(c,{label:"Confirm new password",invalid:!!r.confirmNewPassword,errorMessage:(w=r.confirmNewPassword)==null?void 0:w.message,children:e.jsx(d,{name:"confirmNewPassword",control:n,render:({field:s})=>e.jsx(m,{type:"password",autoComplete:"off",placeholder:"•••••••••",...s})})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{variant:"solid",type:"submit",children:"Update"})})]}),e.jsx(R,{isOpen:x,type:"warning",title:"Update password",confirmButtonProps:{loading:j,onClick:P},onClose:()=>o(!1),onRequestClose:()=>o(!1),onCancel:()=>o(!1),children:e.jsx("p",{children:"Are you sure you want to change your password?"})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{children:"2-Step verification"}),e.jsx("p",{children:"Your account holds great value to hackers. Enable two-step verification to safeguard your account!"}),e.jsx("div",{className:"mt-8",children:h.map((s,N)=>e.jsx("div",{className:S("py-6 border-gray-200 dark:border-gray-600",!E(h,N)&&"border-b"),children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{size:35,className:"bg-transparent",src:s.img}),e.jsxs("div",{children:[e.jsx("h6",{children:s.label}),e.jsx("span",{children:s.desc})]})]}),e.jsx("div",{children:a===s.value?e.jsx(l,{size:"sm",customColorClass:()=>"border-success ring-1 ring-success text-success hover:border-success hover:ring-success hover:text-success bg-transparent",onClick:()=>u(""),children:"Activated"}):e.jsx(l,{size:"sm",onClick:()=>u(s.value),children:"Enable"})})]})},s.value))})]})]})};export{W as default};
