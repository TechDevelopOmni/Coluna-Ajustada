import{r as C,j as e,i as S,K as B}from"./index-C607L3NO.js";import{a as c,C as m,I as x,z as t,u as w,t as O,F as A}from"./index-BsyKxmTm.js";import{C as I,D as L,B as M}from"./DoubleSidedImage-BIlM7hJ2.js";import{C as p}from"./Card-1HCxGsWA.js";import{S as j,O as b,c as v}from"./Select-BFKD9t5_.js";import{A as g}from"./index-Dw6USHNV.js";import{N as E}from"./NumericInput-B59N_2AO.js";import{c as h}from"./countries.constant-ZY8wRTuX.js";import{U as P}from"./Upload-BIQuS-bs.js";import"./Alert-BXBHSJBB.js";import"./Badge-BxvBSlDX.js";import{B as $}from"./Button-BGNlWC2q.js";import"./Calendar-CkAzg2vL.js";import"./index-Bx-NXTjJ.js";import"./index-D4zY1Rvn.js";import"./Dialog-B2uIaC1M.js";import"./Drawer-BmNDlxuy.js";import"./index-DyvKvQJa.js";import"./toString-Bwyjzsoc.js";import"./index-BXJiQU6B.js";import"./index-DXXL45do.js";import"./toast-CDPb8hdy.js";import"./Skeleton-CPq9P_U5.js";import"./Progress-ClvhNQQE.js";import"./index-B4H2RX6Q.js";import"./ScrollBar-BqfB9u64.js";import"./index-C99I0zxJ.js";import{f as q}from"./CloseButton-BXcBQvwe.js";import{S as f}from"./Switcher-B1kKIXFw.js";import"./index-xBh2-DTE.js";import"./index-C1K2VtEp.js";import"./Tag-BbGzO40G.js";const{Control:F}=v,U=l=>e.jsx(b,{...l,customLabel:s=>e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(g,{shape:"circle",size:20,src:`/img/countries/${s.value}.png`}),e.jsx("span",{children:s.dialCode})]})}),V=({children:l,...s})=>{const a=s.getValue()[0];return e.jsxs(F,{...s,children:[a&&e.jsx(g,{className:"ltr:ml-4 rtl:mr-4",shape:"circle",size:20,src:`/img/countries/${a.value}.png`}),l]})},k=({control:l,errors:s})=>{var o,d,u,i;const a=C.useMemo(()=>JSON.parse(JSON.stringify(h)).map(n=>(n.label=n.dialCode,n)),[]);return e.jsxs(p,{children:[e.jsx("h4",{className:"mb-6",children:"Cadastrar Cliente"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(c,{label:"Nome",invalid:!!s.firstName,errorMessage:(o=s.firstName)==null?void 0:o.message,children:e.jsx(m,{name:"firstName",control:l,render:({field:r})=>e.jsx(x,{type:"text",autoComplete:"off",placeholder:"Nome",...r})})}),e.jsx(c,{label:"Sobrenome",invalid:!!s.lastName,errorMessage:(d=s.lastName)==null?void 0:d.message,children:e.jsx(m,{name:"lastName",control:l,render:({field:r})=>e.jsx(x,{type:"text",autoComplete:"off",placeholder:"Sobrenome",...r})})})]}),e.jsx(c,{label:"Email",invalid:!!s.email,errorMessage:(u=s.email)==null?void 0:u.message,children:e.jsx(m,{name:"email",control:l,render:({field:r})=>e.jsx(x,{type:"email",autoComplete:"off",placeholder:"Email",...r})})}),e.jsxs("div",{className:"flex items-end gap-4 w-full",children:[e.jsxs(c,{invalid:!!s.phoneNumber||!!s.dialCode,children:[e.jsx("label",{className:"form-label mb-2",children:"Numero Celular"}),e.jsx(m,{name:"dialCode",control:l,render:({field:r})=>e.jsx(j,{options:a,...r,className:"w-[150px]",components:{Option:U,Control:V},placeholder:"+55",value:a.filter(n=>n.dialCode===r.value),onChange:n=>r.onChange(n==null?void 0:n.dialCode)})})]}),e.jsx(c,{className:"w-full",invalid:!!s.phoneNumber||!!s.dialCode,errorMessage:(i=s.phoneNumber)==null?void 0:i.message,children:e.jsx(m,{name:"phoneNumber",control:l,render:({field:r})=>e.jsx(E,{autoComplete:"off",placeholder:"Numero de Celular",value:r.value,onChange:r.onChange,onBlur:r.onBlur})})})]})]})},{Control:z}=v,R=l=>e.jsx(b,{...l,customLabel:(s,a)=>e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(g,{shape:"circle",size:20,src:`/img/countries/${s.value}.png`}),e.jsx("span",{children:a})]})}),D=({children:l,...s})=>{const a=s.getValue()[0];return e.jsxs(z,{...s,children:[a&&e.jsx(g,{className:"ltr:ml-4 rtl:mr-4",shape:"circle",size:20,src:`/img/countries/${a.value}.png`}),l]})},J=({control:l,errors:s})=>{var a,o,d,u;return e.jsxs(p,{children:[e.jsx("h4",{className:"mb-6",children:"Endereço"}),e.jsx(c,{label:"Pais",invalid:!!s.country,errorMessage:(a=s.country)==null?void 0:a.message,children:e.jsx(m,{name:"country",control:l,render:({field:i})=>e.jsx(j,{options:h,...i,components:{Option:R,Control:D},placeholder:"Brasil",value:h.filter(r=>r.value===i.value),onChange:r=>i.onChange(r==null?void 0:r.value)})})}),e.jsx(c,{label:"Endereço",invalid:!!s.address,errorMessage:(o=s.address)==null?void 0:o.message,children:e.jsx(m,{name:"address",control:l,render:({field:i})=>e.jsx(x,{type:"text",autoComplete:"off",placeholder:"Rua...",...i})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{label:"Cidade",invalid:!!s.city,errorMessage:(d=s.city)==null?void 0:d.message,children:e.jsx(m,{name:"city",control:l,render:({field:i})=>e.jsx(x,{type:"text",autoComplete:"off",placeholder:"Cidade",...i})})}),e.jsx(c,{label:"Cep",invalid:!!s.postcode,errorMessage:(u=s.postcode)==null?void 0:u.message,children:e.jsx(m,{name:"postcode",control:l,render:({field:i})=>e.jsx(x,{type:"text",autoComplete:"off",placeholder:"Cep",...i})})})]})]})},T=[{value:"RedeSocial",label:"RedeSocial"},{value:"Indicação",label:"Indicação"},{value:"Passando",label:"Passando"}],H=({control:l})=>e.jsxs(p,{children:[e.jsx("h4",{className:"mb-2",children:"Como conheceu a clinica?"}),e.jsx("div",{className:"mt-6",children:e.jsx(m,{name:"tags",control:l,render:({field:s})=>e.jsx(j,{isMulti:!0,isClearable:!0,placeholder:"Add tags for customer...",componentAs:I,options:T,onChange:a=>s.onChange(a)})})})]}),K=({control:l})=>{const s=a=>{let o=!0;const d=["image/jpeg","image/png"];if(a)for(const u of a)d.includes(u.type)||(o="Please upload a .jpeg or .png file!");return o};return e.jsxs(p,{children:[e.jsx("h4",{className:"mb-6",children:"Imagem"}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg text-center p-4",children:e.jsx("div",{className:"text-center",children:e.jsx(m,{name:"img",control:l,render:({field:a})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center",children:a.value?e.jsx(g,{size:100,className:"border-4 border-white bg-gray-100 text-gray-300 shadow-lg",icon:e.jsx(q,{}),src:a.value}):e.jsx(L,{src:"/img/others/upload.png",darkModeSrc:"/img/others/upload-dark.png",alt:"Upload image"})}),e.jsx(P,{showList:!1,uploadLimit:1,beforeUpload:s,onChange:o=>{o.length>0&&a.onChange(URL.createObjectURL(o[0]))},children:e.jsx($,{variant:"solid",className:"mt-4",type:"button",children:"Carregar Imagem"})})]})})})})]})},G=({control:l})=>e.jsxs(p,{children:[e.jsx("h4",{children:"Account"}),e.jsxs("div",{className:"mt-6",children:[e.jsx(c,{children:e.jsx(m,{name:"banAccount",control:l,render:({field:s})=>e.jsxs("div",{className:"flex items-center justify-between gap-8",children:[e.jsxs("div",{children:[e.jsx("h6",{children:"Banned"}),e.jsx("p",{children:"Disable this account"})]}),e.jsx(f,{checked:s.value,onChange:a=>{s.onChange(a)}})]})})}),e.jsx(c,{className:"mb-0",children:e.jsx(m,{name:"accountVerified",control:l,render:({field:s})=>e.jsxs("div",{className:"flex items-center justify-between gap-8",children:[e.jsxs("div",{children:[e.jsx("h6",{children:"Account Verified"}),e.jsx("p",{children:"Disabling sends a verification request to the customer."})]}),e.jsx(f,{checked:s.value,onChange:a=>{s.onChange(a)}})]})})})]})]}),Q=t.object({firstName:t.string().min(1,{message:"First name required"}),lastName:t.string().min(1,{message:"Last name required"}),email:t.string().min(1,{message:"Email required"}).email({message:"Invalid email"}),dialCode:t.string().min(1,{message:"Please select your country code"}),phoneNumber:t.string().min(1,{message:"Please input your mobile number"}),country:t.string().min(1,{message:"Please select a country"}),address:t.string().min(1,{message:"Addrress required"}),postcode:t.string().min(1,{message:"Postcode required"}),city:t.string().min(1,{message:"City required"}),img:t.string(),tags:t.array(t.object({value:t.string(),label:t.string()}))}),Oe=l=>{const{onFormSubmit:s,defaultValues:a={},newCustomer:o=!1,children:d}=l,{handleSubmit:u,reset:i,formState:{errors:r},control:n}=w({defaultValues:{banAccount:!1,accountVerified:!0,...a},resolver:O(Q)});C.useEffect(()=>{S(a)||i(a)},[JSON.stringify(a)]);const N=y=>{s==null||s(y)};return e.jsxs(A,{className:"flex w-full h-full",containerClassName:"flex flex-col w-full justify-between",onSubmit:u(N),children:[e.jsx(B,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"gap-4 flex flex-col flex-auto",children:[e.jsx(k,{control:n,errors:r}),e.jsx(J,{control:n,errors:r})]}),e.jsxs("div",{className:"md:w-[370px] gap-4 flex flex-col",children:[e.jsx(K,{control:n,errors:r}),e.jsx(H,{control:n,errors:r}),!o&&e.jsx(G,{control:n,errors:r})]})]})}),e.jsx(M,{children:d})]})};export{Oe as C};
