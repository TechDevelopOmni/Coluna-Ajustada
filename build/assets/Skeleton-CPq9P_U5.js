import{r as g,j as n,v as m}from"./index-C607L3NO.js";import{t as y,u as w,v as A,r as I,s as E}from"./CloseButton-BXcBQvwe.js";import{a as H}from"./useControllableState-Z-3G6vqG.js";const N=7,R=({className:u,onArrow:t})=>{const[e,o]=g.useState(!1);return n.jsx("li",{className:u,role:"presentation",onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},onClick:()=>t("nextMore"),children:e?n.jsx(y,{}):n.jsx(w,{})})},T=({className:u,onArrow:t})=>{const[e,o]=g.useState(!1);return n.jsx("li",{className:u,role:"presentation",onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},onClick:()=>t("prevMore"),children:e?n.jsx(A,{}):n.jsx(w,{})})},D=u=>{const{pageCount:t,currentPage:e,onChange:o,pagerClass:a}=u,[i,p]=g.useState(!1),[l,f]=g.useState(!1);g.useEffect(()=>{t>N?(e>N-2&&p(!0),e<t-2&&f(!0),e>=t-3&&e<=t&&f(!1),e>=1&&e<=4&&p(!1)):(p(!1),f(!1))},[e,t]);const j=(s,r)=>{r.preventDefault();let c=s;c<1&&(c=1),c>t&&(c=t),c!==e&&o(c)},C=g.useCallback(s=>{let r=e;s==="nextMore"&&(r=e+5),s==="prevMore"&&(r=e-5),o(r)},[e,o]),P=g.useMemo(()=>{const s=[];if(i&&!l){const r=t-(N-2);for(let c=r;c<t;c++)s.push(c)}else if(!i&&l)for(let r=2;r<N;r++)s.push(r);else if(i&&l){const r=Math.floor(N/2)-1,c=e>=t-2&&e<=t;for(let k=e-r;k<=e+(c?0:r);k++)s.push(k)}else for(let r=2;r<t;r++)s.push(r);return s.length>N?[]:s},[i,l,e,t]),x=s=>m(a.default,e===s?a.active:a.inactive);return n.jsxs("ul",{children:[t>0&&n.jsx("li",{className:x(1),role:"presentation",onClick:s=>j(1,s),children:"1"}),i&&n.jsx(T,{className:m(a.default,a.inactive),onArrow:s=>C(s)}),P.map((s,r)=>n.jsx("li",{className:x(s),role:"presentation",onClick:c=>j(s,c),children:s},r)),l&&n.jsx(R,{className:m(a.default,a.inactive),onArrow:s=>C(s)}),t>1&&n.jsx("li",{className:x(t),role:"presentation",onClick:s=>j(t,s),children:t})]})},z=u=>{const{currentPage:t,pagerClass:e,onPrev:o}=u,a=t<=1,i=l=>{a||o(l)},p=m(e.default,"pagination-pager-prev",a?e.disabled:e.inactive);return n.jsx("span",{className:p,role:"presentation",onClick:i,children:n.jsx(I,{})})},L=u=>{const{currentPage:t,pageCount:e,pagerClass:o,onNext:a}=u,i=t===e||e===0,p=f=>{f.preventDefault(),!i&&a(f)},l=m(o.default,"pagination-pager-next",i?o.disabled:o.inactive);return n.jsx("span",{className:l,role:"presentation",onClick:p,children:n.jsx(E,{})})},O=u=>{const{total:t}=u;return n.jsxs("div",{className:"pagination-total",children:["Total ",n.jsx("span",{children:t})," Items"]})},q=5,Q=u=>{const{className:t,currentPage:e=1,displayTotal:o=!1,onChange:a,pageSize:i=1,total:p=5}=u,[l]=H({prop:p,defaultProp:q,onChange:a}),[f,j]=g.useState(i),C=g.useMemo(()=>typeof l=="number"?Math.ceil(l/f):null,[l,f]),P=d=>{const h=parseInt(d,10),b=C;let v;return b?(h<1&&(v=1),h>b&&(v=b)):(isNaN(h)||h<1)&&(v=1),(v===void 0&&isNaN(h)||v===0)&&(v=1),v===void 0?h:v},[x,s]=g.useState(e?P(e):1);g.useEffect(()=>{i!==f&&j(i),e!==x&&s(e)},[i,e]);const r=d=>{s(P(d)),a==null||a(P(d))},c=()=>{const d=x-1;s(P(d)),a==null||a(P(d))},k=()=>{const d=x+1;s(P(d)),a==null||a(P(d))},M={default:"pagination-pager",inactive:"pagination-pager-inactive",active:"text-primary bg-primary-50 hover:bg-primary-50 dark:bg-primary dark:text-neutral",disabled:"pagination-pager-disabled"},S=m("pagination",t);return n.jsxs("div",{className:S,children:[o&&n.jsx(O,{total:p}),n.jsx(z,{currentPage:x,pagerClass:M,onPrev:c}),n.jsx(D,{pageCount:C,currentPage:x,pagerClass:M,onChange:r}),n.jsx(L,{currentPage:x,pageCount:C,pagerClass:M,onNext:k})]})};Q.displayName="Pagination";const V=g.forwardRef((u,t)=>{const{animation:e=!0,asElement:o="span",className:a,height:i,style:p,variant:l="block",width:f}=u;return n.jsx(o,{ref:t,className:m("skeleton",l==="circle"&&"skeleton-circle",l==="block"&&"skeleton-block",e&&"animate-pulse",a),style:{width:f,height:i,...p}})});V.displayName="Skeleton";export{Q as P,V as S};
