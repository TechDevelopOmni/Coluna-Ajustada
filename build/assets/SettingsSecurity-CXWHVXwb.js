import{j as e,r as m,e as S}from"./index-C5xnPUKa.js";import{A as l}from"./index-CL49tEVQ.js";import{B as c}from"./Button-00hYv7Hf.js";import{z as u,u as A,F as B,a as w,C as b,I as v,t as E}from"./index-Bqj6aw2Y.js";import{o as z,p as F,d as I,q as R}from"./CloseButton-BVrOH7-u.js";import{D as V,i as q}from"./isLastChild-CvvawRgy.js";import{s as H}from"./sleep-BvINh1mj.js";import"./index-S9UlLO8O.js";import"./classNames-BhlWOSM5.js";import"./isNil-CBg1yYkj.js";import"./Drawer-3tad01s7.js";const M=({status:r})=>{switch(r){case"info":return e.jsx(l,{className:"bg-blue-100 text-blue-600 dark:bg-blue-500/20 dark:text-blue-100",shape:"circle",children:e.jsx("span",{className:"text-2xl",children:e.jsx(R,{})})});case"success":return e.jsx(l,{className:"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100",shape:"circle",children:e.jsx("span",{className:"text-2xl",children:e.jsx(I,{})})});case"warning":return e.jsx(l,{className:"text-amber-600 bg-amber-100 dark:text-amber-100",shape:"circle",children:e.jsx("span",{className:"text-2xl",children:e.jsx(F,{})})});case"danger":return e.jsx(l,{className:"text-red-600 bg-red-100 dark:text-red-100",shape:"circle",children:e.jsx("span",{className:"text-2xl",children:e.jsx(z,{})})});default:return null}},T=r=>{const{type:d="info",title:x,children:t,onCancel:o,onConfirm:n,cancelText:p="Cancel",confirmText:h="Confirm",confirmButtonProps:g,cancelButtonProps:a,...i}=r,f=()=>{o==null||o()},j=()=>{n==null||n()};return e.jsxs(V,{contentClassName:"pb-0 px-0",...i,children:[e.jsxs("div",{className:"px-6 pb-6 pt-2 flex",children:[e.jsx("div",{children:e.jsx(M,{status:d})}),e.jsxs("div",{className:"ml-4 rtl:mr-4",children:[e.jsx("h5",{className:"mb-2",children:x}),t]})]}),e.jsx("div",{className:"px-6 py-3 bg-gray-100 dark:bg-gray-700 rounded-bl-2xl rounded-br-2xl",children:e.jsxs("div",{className:"flex justify-end items-center gap-2",children:[e.jsx(c,{size:"sm",onClick:f,...a,children:p}),e.jsx(c,{size:"sm",variant:"solid",onClick:j,...g,children:h})]})})]})},P=[{label:"Google Authenticator",value:"googleAuthenticator",img:"/img/others/google.png",desc:"Using Google Authenticator app generates time-sensitive codes for secure logins."},{label:"Okta Verify",value:"oktaVerify",img:"/img/others/okta.png",desc:"Receive push notifications from Okta Verify app on your phone for quick login approval."},{label:"E Mail verification",value:"emailVerification",img:"/img/others/email.png",desc:"Unique codes sent to email for confirming logins."}],U=u.object({currentPassword:u.string().min(1,{message:"Please enter your current password!"}),newPassword:u.string().min(1,{message:"Please enter your new password!"}),confirmNewPassword:u.string().min(1,{message:"Please confirm your new password!"})}).refine(r=>r.confirmNewPassword===r.newPassword,{message:"Password not match",path:["confirmNewPassword"]}),_=()=>{var y,N,C;const[r,d]=m.useState("googleAuthenticator"),[x,t]=m.useState(!1),[o,n]=m.useState(!1),p=m.useRef(null),{getValues:h,handleSubmit:g,formState:{errors:a},control:i}=A({resolver:E(U)}),f=async()=>{n(!0),await H(1e3),console.log("getValues",h()),t(!1),n(!1)},j=async()=>{t(!0)};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{children:"Password"}),e.jsx("p",{children:"Remember, your password is your digital key to your account. Keep it safe, keep it secure!"})]}),e.jsxs(B,{ref:p,className:"mb-8",onSubmit:g(j),children:[e.jsx(w,{label:"Current password",invalid:!!a.currentPassword,errorMessage:(y=a.currentPassword)==null?void 0:y.message,children:e.jsx(b,{name:"currentPassword",control:i,render:({field:s})=>e.jsx(v,{type:"password",autoComplete:"off",placeholder:"•••••••••",...s})})}),e.jsx(w,{label:"New password",invalid:!!a.newPassword,errorMessage:(N=a.newPassword)==null?void 0:N.message,children:e.jsx(b,{name:"newPassword",control:i,render:({field:s})=>e.jsx(v,{type:"password",autoComplete:"off",placeholder:"•••••••••",...s})})}),e.jsx(w,{label:"Confirm new password",invalid:!!a.confirmNewPassword,errorMessage:(C=a.confirmNewPassword)==null?void 0:C.message,children:e.jsx(b,{name:"confirmNewPassword",control:i,render:({field:s})=>e.jsx(v,{type:"password",autoComplete:"off",placeholder:"•••••••••",...s})})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(c,{variant:"solid",type:"submit",children:"Update"})})]}),e.jsx(T,{isOpen:x,type:"warning",title:"Update password",confirmButtonProps:{loading:o,onClick:f},onClose:()=>t(!1),onRequestClose:()=>t(!1),onCancel:()=>t(!1),children:e.jsx("p",{children:"Are you sure you want to change your password?"})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{children:"2-Step verification"}),e.jsx("p",{children:"Your account holds great value to hackers. Enable two-step verification to safeguard your account!"}),e.jsx("div",{className:"mt-8",children:P.map((s,k)=>e.jsx("div",{className:S("py-6 border-gray-200 dark:border-gray-600",!q(P,k)&&"border-b"),children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(l,{size:35,className:"bg-transparent",src:s.img}),e.jsxs("div",{children:[e.jsx("h6",{children:s.label}),e.jsx("span",{children:s.desc})]})]}),e.jsx("div",{children:r===s.value?e.jsx(c,{size:"sm",customColorClass:()=>"border-success ring-1 ring-success text-success hover:border-success hover:ring-success hover:text-success bg-transparent",onClick:()=>d(""),children:"Activated"}):e.jsx(c,{size:"sm",onClick:()=>d(s.value),children:"Enable"})})]})},s.value))})]})]})};export{_ as default};
