import{r as g,x as S,j as i,W as we,a2 as Pe,a3 as Ne,a4 as Oe,X as O,F as Ee,a5 as Re,a6 as Se,a7 as Te,b as Me,f as L}from"./index-CMbCRzoG.js";import{c as ke}from"./classNames-D22wyvZC.js";import{_ as oe,a as De,e as Ie,b as Ge,d as ce,k as Le,f as ue,c as P}from"./cloneDeep-DdLAMrfy.js";import{t as fe,v as je,w as Ue}from"./Drawer-BUzX-TaF.js";import{S as j}from"./Switcher-jFoVpXzF.js";import{u as qe,b as Ke}from"./index-DjIUylqS.js";import"./_getPrototype-lZRB4pca.js";import"./CloseButton-49zcuuf0.js";const de=g.createContext({}),Fe=de.Provider,he=g.forwardRef((e,a)=>{const{name:n,value:r,onChange:s,checkboxClass:t}=g.useContext(de),{checked:o,className:l,checkboxClass:c,onChange:d,children:p,disabled:f,readOnly:u,name:x=n,defaultChecked:v,value:h,labelRef:y,...m}=e,b=g.useCallback(()=>typeof r<"u"&&typeof h<"u"?r.some(N=>N===h):o||v,[o,r,h,v]),[_,C]=g.useState(b()),M=(()=>{let w={checked:_};const G={};return typeof o<"u"&&(G.checked=o),typeof r<"u"&&(w={checked:r.includes(h)}),v&&(G.defaultChecked=v),typeof r<"u"?w:G})(),k=g.useCallback(N=>{let w=!_;typeof r<"u"&&(w=!r.includes(h)),!(f||u)&&(C(w),d==null||d(w,N),s==null||s(h,w,N))},[_,f,u,C,d,h,s,r]),D=`checkbox peer ${c||t||"text-primary"}`,I=f&&"disabled",A=S("checkbox-label",f&&"disabled",l);return i.jsxs("label",{ref:y,className:A,children:[i.jsxs("span",{className:"checkbox-wrapper h-5 relative",children:[i.jsx("input",{ref:a,className:S(D,I),type:"checkbox",disabled:f,readOnly:u,name:x,onChange:k,...M,...m}),i.jsx(i.Fragment,{children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 stroke-neutral fill-neutral opacity-0 transition-opacity peer-checked:opacity-100 pointer-events-none absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 mt-[1.25px]",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 0 1 0 1.414l-8 8a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L8 12.586l7.293-7.293a1 1 0 0 1 1.414 0z",clipRule:"evenodd"})})})]}),p?i.jsx("span",{className:S(f?"opacity-50":""),children:p}):null]})});he.displayName="Checkbox";var He="__lodash_hash_undefined__";function Be(e){return this.__data__.set(e,He),this}var Xe=Be;function Ze(e){return this.__data__.has(e)}var ze=Ze,Ye=oe,Je=Xe,Qe=ze;function T(e){var a=-1,n=e==null?0:e.length;for(this.__data__=new Ye;++a<n;)this.add(e[a])}T.prototype.add=T.prototype.push=Je;T.prototype.has=Qe;var We=T;function Ve(e,a){for(var n=-1,r=e==null?0:e.length;++n<r;)if(a(e[n],n,e))return!0;return!1}var ea=Ve;function aa(e,a){return e.has(a)}var na=aa,ra=We,sa=ea,ta=na,ia=1,la=2;function oa(e,a,n,r,s,t){var o=n&ia,l=e.length,c=a.length;if(l!=c&&!(o&&c>l))return!1;var d=t.get(e),p=t.get(a);if(d&&p)return d==a&&p==e;var f=-1,u=!0,x=n&la?new ra:void 0;for(t.set(e,a),t.set(a,e);++f<l;){var v=e[f],h=a[f];if(r)var y=o?r(h,v,f,a,e,t):r(v,h,f,e,a,t);if(y!==void 0){if(y)continue;u=!1;break}if(x){if(!sa(a,function(m,b){if(!ta(x,b)&&(v===m||s(v,m,n,r,t)))return x.push(b)})){u=!1;break}}else if(!(v===h||s(v,h,n,r,t))){u=!1;break}}return t.delete(e),t.delete(a),u}var pe=oa;function ca(e){var a=-1,n=Array(e.size);return e.forEach(function(r,s){n[++a]=[s,r]}),n}var ua=ca;function fa(e){var a=-1,n=Array(e.size);return e.forEach(function(r){n[++a]=r}),n}var da=fa,J=we,Q=De,ha=Ie,pa=pe,va=ua,ga=da,ma=1,ya=2,xa="[object Boolean]",ba="[object Date]",Ca="[object Error]",_a="[object Map]",$a="[object Number]",Aa="[object RegExp]",wa="[object Set]",Pa="[object String]",Na="[object Symbol]",Oa="[object ArrayBuffer]",Ea="[object DataView]",W=J?J.prototype:void 0,U=W?W.valueOf:void 0;function Ra(e,a,n,r,s,t,o){switch(n){case Ea:if(e.byteLength!=a.byteLength||e.byteOffset!=a.byteOffset)return!1;e=e.buffer,a=a.buffer;case Oa:return!(e.byteLength!=a.byteLength||!t(new Q(e),new Q(a)));case xa:case ba:case $a:return ha(+e,+a);case Ca:return e.name==a.name&&e.message==a.message;case Aa:case Pa:return e==a+"";case _a:var l=va;case wa:var c=r&ma;if(l||(l=ga),e.size!=a.size&&!c)return!1;var d=o.get(e);if(d)return d==a;r|=ya,o.set(e,a);var p=pa(l(e),l(a),r,s,t,o);return o.delete(e),p;case Na:if(U)return U.call(e)==U.call(a)}return!1}var Sa=Ra,V=Ge,Ta=1,Ma=Object.prototype,ka=Ma.hasOwnProperty;function Da(e,a,n,r,s,t){var o=n&Ta,l=V(e),c=l.length,d=V(a),p=d.length;if(c!=p&&!o)return!1;for(var f=c;f--;){var u=l[f];if(!(o?u in a:ka.call(a,u)))return!1}var x=t.get(e),v=t.get(a);if(x&&v)return x==a&&v==e;var h=!0;t.set(e,a),t.set(a,e);for(var y=o;++f<c;){u=l[f];var m=e[u],b=a[u];if(r)var _=o?r(b,m,u,a,e,t):r(m,b,u,e,a,t);if(!(_===void 0?m===b||s(m,b,n,r,t):_)){h=!1;break}y||(y=u=="constructor")}if(h&&!y){var C=e.constructor,$=a.constructor;C!=$&&"constructor"in e&&"constructor"in a&&!(typeof C=="function"&&C instanceof C&&typeof $=="function"&&$ instanceof $)&&(h=!1)}return t.delete(e),t.delete(a),h}var Ia=Da,q=ce,Ga=pe,La=Sa,ja=Ia,ee=Pe,ae=O,ne=Ne,Ua=Oe,qa=1,re="[object Arguments]",se="[object Array]",R="[object Object]",Ka=Object.prototype,te=Ka.hasOwnProperty;function Fa(e,a,n,r,s,t){var o=ae(e),l=ae(a),c=o?se:ee(e),d=l?se:ee(a);c=c==re?R:c,d=d==re?R:d;var p=c==R,f=d==R,u=c==d;if(u&&ne(e)){if(!ne(a))return!1;o=!0,p=!1}if(u&&!p)return t||(t=new q),o||Ua(e)?Ga(e,a,n,r,s,t):La(e,a,c,n,r,s,t);if(!(n&qa)){var x=p&&te.call(e,"__wrapped__"),v=f&&te.call(a,"__wrapped__");if(x||v){var h=x?e.value():e,y=v?a.value():a;return t||(t=new q),s(h,y,n,r,t)}}return u?(t||(t=new q),ja(e,a,n,r,s,t)):!1}var Ha=Fa,Ba=Ha,ie=Ee;function ve(e,a,n,r,s){return e===a?!0:e==null||a==null||!ie(e)&&!ie(a)?e!==e&&a!==a:Ba(e,a,n,r,ve,s)}var ge=ve,Xa=ce,Za=ge,za=1,Ya=2;function Ja(e,a,n,r){var s=n.length,t=s,o=!r;if(e==null)return!t;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<t;){l=n[s];var c=l[0],d=e[c],p=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new Xa;if(r)var u=r(d,p,c,e,a,f);if(!(u===void 0?Za(p,d,za|Ya,r,f):u))return!1}}return!0}var Qa=Ja,Wa=Re;function Va(e){return e===e&&!Wa(e)}var me=Va,en=me,an=Le;function nn(e){for(var a=an(e),n=a.length;n--;){var r=a[n],s=e[r];a[n]=[r,s,en(s)]}return a}var rn=nn;function sn(e,a){return function(n){return n==null?!1:n[e]===a&&(a!==void 0||e in Object(n))}}var ye=sn,tn=Qa,ln=rn,on=ye;function cn(e){var a=ln(e);return a.length==1&&a[0][2]?on(a[0][0],a[0][1]):function(n){return n===e||tn(n,e,a)}}var un=cn,fn=O,dn=fe,hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pn=/^\w*$/;function vn(e,a){if(fn(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||dn(e)?!0:pn.test(e)||!hn.test(e)||a!=null&&e in Object(a)}var H=vn,xe=oe,gn="Expected a function";function B(e,a){if(typeof e!="function"||a!=null&&typeof a!="function")throw new TypeError(gn);var n=function(){var r=arguments,s=a?a.apply(this,r):r[0],t=n.cache;if(t.has(s))return t.get(s);var o=e.apply(this,r);return n.cache=t.set(s,o)||t,o};return n.cache=new(B.Cache||xe),n}B.Cache=xe;var mn=B,yn=mn,xn=500;function bn(e){var a=yn(e,function(r){return n.size===xn&&n.clear(),r}),n=a.cache;return a}var Cn=bn,_n=Cn,$n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,An=/\\(\\)?/g,wn=_n(function(e){var a=[];return e.charCodeAt(0)===46&&a.push(""),e.replace($n,function(n,r,s,t){a.push(s?t.replace(An,"$1"):r||n)}),a}),Pn=wn,Nn=O,On=H,En=Pn,Rn=je;function Sn(e,a){return Nn(e)?e:On(e,a)?[e]:En(Rn(e))}var X=Sn,Tn=fe,Mn=1/0;function kn(e){if(typeof e=="string"||Tn(e))return e;var a=e+"";return a=="0"&&1/e==-Mn?"-0":a}var E=kn,Dn=X,In=E;function Gn(e,a){a=Dn(a,e);for(var n=0,r=a.length;e!=null&&n<r;)e=e[In(a[n++])];return n&&n==r?e:void 0}var Z=Gn,Ln=Z;function jn(e,a,n){var r=e==null?void 0:Ln(e,a);return r===void 0?n:r}var Un=jn;function qn(e,a){return e!=null&&a in Object(e)}var Kn=qn,Fn=X,Hn=Se,Bn=O,Xn=ue,Zn=Te,zn=E;function Yn(e,a,n){a=Fn(a,e);for(var r=-1,s=a.length,t=!1;++r<s;){var o=zn(a[r]);if(!(t=e!=null&&n(e,o)))break;e=e[o]}return t||++r!=s?t:(s=e==null?0:e.length,!!s&&Zn(s)&&Xn(o,s)&&(Bn(e)||Hn(e)))}var Jn=Yn,Qn=Kn,Wn=Jn;function Vn(e,a){return e!=null&&Wn(e,a,Qn)}var er=Vn,ar=ge,nr=Un,rr=er,sr=H,tr=me,ir=ye,lr=E,or=1,cr=2;function ur(e,a){return sr(e)&&tr(a)?ir(lr(e),a):function(n){var r=nr(n,e);return r===void 0&&r===a?rr(n,e):ar(a,r,or|cr)}}var fr=ur;function dr(e){return e}var hr=dr;function pr(e){return function(a){return a==null?void 0:a[e]}}var vr=pr,gr=Z;function mr(e){return function(a){return gr(a,e)}}var yr=mr,xr=vr,br=yr,Cr=H,_r=E;function $r(e){return Cr(e)?xr(_r(e)):br(e)}var Ar=$r,wr=un,Pr=fr,Nr=hr,Or=O,Er=Ar;function Rr(e){return typeof e=="function"?e:e==null?Nr:typeof e=="object"?Or(e)?Pr(e[0],e[1]):wr(e):Er(e)}var Sr=Rr;function Tr(e){var a=e==null?0:e.length;return a?e[a-1]:void 0}var Mr=Tr;function kr(e,a,n){var r=-1,s=e.length;a<0&&(a=-a>s?0:s+a),n=n>s?s:n,n<0&&(n+=s),s=a>n?0:n-a>>>0,a>>>=0;for(var t=Array(s);++r<s;)t[r]=e[r+a];return t}var Dr=kr,Ir=Z,Gr=Dr;function Lr(e,a){return a.length<2?e:Ir(e,Gr(a,0,-1))}var jr=Lr,Ur=X,qr=Mr,Kr=jr,Fr=E;function Hr(e,a){return a=Ur(a,e),e=Kr(e,a),e==null||delete e[Fr(qr(a))]}var Br=Hr,Xr=Br,Zr=ue,zr=Array.prototype,Yr=zr.splice;function Jr(e,a){for(var n=e?a.length:0,r=n-1;n--;){var s=a[n];if(n==r||s!==t){var t=s;Zr(s)?Yr.call(e,s,1):Xr(e,s)}}return e}var Qr=Jr,Wr=Sr,Vr=Qr;function es(e,a){var n=[];if(!(e&&e.length))return n;var r=-1,s=[],t=e.length;for(a=Wr(a);++r<t;){var o=e[r];a(o,r,e)&&(n.push(o),s.push(r))}return Vr(e,s),n}var as=es;const ns=Me(as),rs=Object.prototype.hasOwnProperty;function le(e,a){return e===a?e!==0||a!==0||1/e===1/a:e!==e&&a!==a}function ss(e,a){if(le(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;const n=Object.keys(e),r=Object.keys(a);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s+=1)if(!rs.call(a,n[s])||!le(e[n[s]],a[n[s]]))return!1;return!0}const be=g.forwardRef((e,a)=>{const{children:n,className:r,checkboxClass:s,name:t,onChange:o,value:l,vertical:c,...d}=e,[p,f]=g.useState(l),u=g.useCallback((v,h,y)=>{const m=P(p)||[];h?m.push(v):ns(m,b=>ss(b,v)),f(m),o==null||o(m,y)},[o,f,p]);g.useEffect(()=>{f(l)},[l]);const x=g.useMemo(()=>({vertical:c,name:t,value:p,checkboxClass:s,onChange:u}),[c,u,t,s,p]);return i.jsx(Fe,{value:x,children:i.jsx("div",{ref:a,className:ke("inline-flex gap-4",c?"flex-col":"",r),...d,children:n})})});be.displayName="CheckboxGroup";const K=he;K.Group=be;const Ce=g.createContext({}),ts=Ce.Provider,_e=g.forwardRef((e,a)=>{const{name:n,disabled:r,value:s,onChange:t,radioClass:o}=g.useContext(Ce),{children:l,className:c,checked:d,radioClass:p,defaultChecked:f,disabled:u=r,labelRef:x,name:v=n,onChange:h,readOnly:y,value:m,...b}=e,_=()=>typeof s<"u"?s===m:d,[C,$]=g.useState(_()),M=o||"text-primary",k=g.useMemo(()=>typeof s<"u"?{checked:C}:{checked:d,defaultChecked:f},[C,d,f,s]),z=g.useCallback(A=>{u||y||(t==null||t(m,A),h==null||h(m,A))},[u,$,h,m,t,s,y]);g.useEffect(()=>{const A=_();C!==A&&$(A)},[m,d,s]);const D=`radio peer ${M}`,I=u&&"disabled",Y=L("radio-label",u&&"disabled",c);return i.jsxs("label",{ref:x,className:Y,children:[i.jsxs("span",{className:"radio-wrapper relative",children:[i.jsx("input",{ref:a,type:"radio",className:L(D,I,p),disabled:u,value:m,name:v,readOnly:y,onChange:z,...k,...b}),i.jsx("svg",{viewBox:"0 0 16 16",className:"h-4 w-4 stroke-neutral fill-neutral opacity-0 peer-checked:opacity-100 pointer-events-none absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 mt-[0.75px]",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("circle",{cx:"8",cy:"8",r:"3"})})]}),l?i.jsx("span",{className:L(u?"opacity-50":""),children:l}):null]})});_e.displayName="Radio";const $e=g.forwardRef((e,a)=>{const{radioClass:n,disabled:r,name:s,onChange:t,value:o,vertical:l=!1,className:c,...d}=e,[p,f]=g.useState(o);g.useEffect(()=>{o!==p&&f(o)},[o]);const u=g.useCallback((h,y)=>{f(h),t==null||t(h,y)},[t,f]),x=g.useMemo(()=>({vertical:l,name:s,value:typeof p>"u"?null:p,radioClass:n,disabled:r,onChange:u}),[r,u,l,s,n,p]),v=S("radio-group",l&&"vertical",c);return i.jsx(ts,{value:x,children:i.jsx("div",{ref:a,className:v,...d,children:e.children})})});$e.displayName="RadioGroup";const F=_e;F.Group=$e;const is=[{label:"News & updates",value:"newsAndUpdate",desc:"New about product and features update"},{label:"Tips & tutorials",value:"tipsAndTutorial",desc:"Tips & trick in order to increase your performance efficiency"},{label:"Offer & promotions",value:"offerAndPromotion",desc:"Promotion about product price & lastest discount"},{label:"Follow up remider",value:"followUpReminder",desc:"Receive notification all the reminder that have been made"}],ls=[{label:"All new messages",value:"allNewMessage",desc:"Broadcast notifications to the channel for each new message"},{label:"Mentions only",value:"mentionsOnly",desc:"Only alert me in the channel if someone mentions me in a message"},{label:"Nothing",value:"nothing",desc:"Don't notify me anything"}],gs=()=>{const{data:e={email:[],desktop:!1,unreadMessageBadge:!1,notifymeAbout:""},mutate:a}=qe("/api/settings/notification/",()=>Ke(),{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1}),n=l=>{const c=P(e);c.email=l,a(c,!1)},r=l=>{const c=P(e);l?c.email=["newsAndUpdate","tipsAndTutorial","offerAndPromotion","followUpReminder"]:c.email=[],a(c,!1)},s=l=>{const c=P(e);c.desktop=l,a(c,!1)},t=l=>{const c=P(e);c.unreadMessageBadge=l,a(c,!1)},o=l=>{const c=P(e);c.notifymeAbout=l,a(c,!1)};return i.jsxs("div",{children:[i.jsx("h4",{children:"Notification"}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex items-center justify-between py-6 border-b border-gray-200 dark:border-gray-600",children:[i.jsxs("div",{children:[i.jsx("h5",{children:"Enable desktop notification"}),i.jsx("p",{children:"Decide whether you want to be notified of new message & updates"})]}),i.jsx("div",{children:i.jsx(j,{checked:e.desktop,onChange:s})})]}),i.jsxs("div",{className:"flex items-center justify-between py-6 border-b border-gray-200 dark:border-gray-600",children:[i.jsxs("div",{children:[i.jsx("h5",{children:"Enable unread notification badge"}),i.jsx("p",{children:"Display a red indicator on of the notification icon when you have unread message"})]}),i.jsx("div",{children:i.jsx(j,{checked:e.unreadMessageBadge,onChange:t})})]}),i.jsxs("div",{className:"py-6 border-b border-gray-200 dark:border-gray-600",children:[i.jsx("h5",{children:"Enable unread notification badge"}),i.jsx("div",{className:"mt-4",children:i.jsx(F.Group,{vertical:!0,className:"flex flex-col gap-6",value:e.notifymeAbout,onChange:o,children:ls.map(l=>i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"mt-1.5",children:i.jsx(F,{value:l.value})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"mt-1",children:i.jsx(Ue,{className:"text-lg"})}),i.jsxs("div",{children:[i.jsx("h6",{children:l.label}),i.jsx("p",{children:l.desc})]})]})]},l.value))})})]}),i.jsxs("div",{className:"flex items-center justify-between py-6",children:[i.jsxs("div",{children:[i.jsx("h5",{children:"Email notification"}),i.jsx("p",{children:"Substance can send you email notification for any new direct message"})]}),i.jsx("div",{children:i.jsx(j,{checked:e.email.length>0,onChange:r})})]}),i.jsx(K.Group,{vertical:!0,className:"flex flex-col gap-6",value:e.email,onChange:n,children:is.map(l=>i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"mt-1.5",children:i.jsx(K,{value:l.value})}),i.jsxs("div",{children:[i.jsx("h6",{children:l.label}),i.jsx("p",{children:l.desc})]})]},l.value))})]})]})};export{gs as default};
